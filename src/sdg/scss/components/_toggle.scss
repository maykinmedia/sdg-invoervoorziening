@import './colors';
@import '~microscope-sass/lib/animation';
@import '~microscope-sass/lib/grid';
@import '~microscope-sass/lib/transform';
@import '~microscope-sass/lib/typography';

$toggle-track-height: $grid-margin-2 - 2 * $typography-size-border;
$toggle-track-width: $toggle-track-height * 2;

.toggle {
  --main-color: #{$color_secondary_light};
  --shadow-color: #{$color_grey_dark};
  @include animate;
  align-items: center;
  display: flex;
  gap: $grid-margin-1;
  justify-content: space-between;
  width: auto;

  &__label {
  }

  &__checkbox {
    position: absolute;
    opacity: 0;
  }

  &__checkbox:checked + &__handle {
    background-color: $color_accent_light;
    justify-content: flex-end;
  }

  &__checkbox:focus + &__handle:before {
    box-shadow: 0px 0px 4px 4px $color_primary_lighter;
  }

  &__handle {
    border: $typography-size-border solid var(--shadow-color);
    border-radius: $toggle-track-width;
    box-shadow: inset 1px 1px 2px var(--shadow-color);
    box-sizing: content-box;
    color: var(--main-color);
    cursor: pointer;
    display: flex;
    flex-shrink: 0;
    font-size: 0;
    justify-content: flex-start;
    position: relative;
    height: $toggle-track-height;
    width: $toggle-track-width;
  }

  &__handle:before {
    $handle_size: $toggle-track-height;
    @include rounded;
    @include scale(1.1, 1.1);
    background-color: currentColor;
    border: $typography-size-border solid transparent;
    box-shadow: 1px 1px 4px var(--shadow-color);
    box-sizing: border-box;
    content: '';
    display: block;
    height: $toggle-track-height;
    width: $toggle-track-height;
  }

  & &__label .svg-inline--fa {
    color: $color_grey_darkest;
  }
}
