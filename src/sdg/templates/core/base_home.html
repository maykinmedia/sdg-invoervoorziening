{% extends 'master.html' %}
{% load static i18n utils %}
{% block title %}{% block head_title %}{% endblock head_title %} | SDG{% endblock title %}

{% block extra_css %}
    <script src="{% static 'bundles/fontawesome.js' %}"></script>
{% endblock %}

{% block outer_content %}
    <header class="header {% block header_classes %}{% endblock header_classes %}">
        <div class="container header__top">
            <div class="logo">
                <h1 class="logo__title logo__title-medium">
                    <a href="{% url 'core:home' %}">
                        <span class="logo__uncolored">SD</span><span class="logo__colored">G</span>
                    </a>
                </h1>
                <h2 class="logo__subtitle logo__subtitle-medium">voor gemeenten</h2>
            </div>
            <div class="header__user header__dropdown">
                <i class="fas fa-user"></i>

                <span class="header__username">
                    {{ request.user }}
                </span>

                <div class="header__dropdown-list">
                    {% with pk=lokaleoverheid.pk %}

                    {% if pk and request.user|is_manager:lokaleoverheid %}
                        <a class="header__dropdown-action" href="{% url 'organisaties:edit' pk=pk %}">
                            <i class="fas fa-building"></i> {% trans "Organisatie instellingen" %}
                        </a>
                        <a class="header__dropdown-action" href="{% url 'organisaties:locaties' pk=pk %}">
                            <i class="fas fa-compass"></i> {% trans "Locaties" %}
                        </a>
                        <a class="header__dropdown-action" href="{% url 'organisaties:bevoegde_organisaties' pk=pk %}">
                            <i class="fas fa-handshake"></i> {% trans "Bevoegde organisaties" %}
                        </a>
                    {% endif %}
                    {% if pk %}
                        <a class="header__dropdown-action" href="{% url 'organisaties:roles:list' pk=pk %}">
                            <i class="fas fa-users"></i> {% trans "Gebruikersbeheer" %}
                        </a>
                    {% endif %}

                    <a class="header__dropdown-action" href="{% url 'account_logout' %}">
                        <i class="fas fa-sign-out-alt"></i> {% trans "Uitloggen" %}
                    </a>

                    {% if not pk %}
                        <a class="header__dropdown-text">
                            {% trans "Selecteer eerst een organisatie voor meer opties." %}
                        </a>
                    {% endif %}

                    {% endwith %}
                </div>
            </div>
        </div>
        <div class="container">
            <p class="header__subtitle">{% block container_subtitle %}{% endblock container_subtitle %}</p>
            <p class="header__title">
                {% block container_title %}
                    <b>{{ lokaleoverheid }}</b>
                    {% include "core/_municipality_switch.html" %}
                {% endblock container_title %}
            </p>
        </div>
    </header>
{% endblock %}


{% block content %}
    {% block notifications %}
        <div class="notifications">
            {% include "core/_notifications.html" %}
        </div>
    {% endblock %}

    {% block inner %}
    {% endblock %}
{% endblock %}

{% block footer %}
    <div class="footer">
        <div class="footer__left">
            Een initiatief van
            <a href="https://vng.nl/" target="_blank">
                <img class="footer__logo" src="{% static 'images/vng_logo.svg' %}"/>
            </a>
        </div>
        <div class="footer__right">
            <a class="footer__link" href="#" rel="noopener noreferrer">{% trans "Toegankelijkheid" %}</a>
            <a class="footer__link" href="#" rel="noopener noreferrer">{% trans "Privacybeleid" %}</a>
        </div>
    </div>
{% endblock footer %}
